<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Vite + TS</title>
  <script type="module" crossorigin src="./assets/index-B5Qt9EMX.js"></script>
</head>

<body>
  <div id="app"></div>
  <div id="text"></div>
  <button id="btn">Click me</button>
  <script>
    document.addEventListener("DOMContentLoaded", async () => {
  const camera = new Camera("#app", { width: 360, height: 280 });
  const startTime = performance.now();
  camera.detectParameters().then((obj) => {
    const endTime = performance.now();
    const duration = endTime - startTime;
    console.log(`代码运行时间: ${(duration / 1000).toFixed(3)} 秒`);
    camera.show();
    console.log(obj);
    camera.turnOn({
      facingMode: "environment",
    });
  });
  /*
  "#app", {
    width: 360,
    height: 280,
    facingMode: "environment",
    audio: true,
    resolution: { width: 4080, height: 3060 },
  }
  */
  //await camera.turnOn();
  const button = document.getElementById("btn");
  if (button)
    button.onclick = (e) => {
      e.preventDefault();
      camera.switchFacingMode();
    };
  //facingMode: "environment", resolution: { width: 1280, height: 720 },
});
  </script>
</body>

</html>
